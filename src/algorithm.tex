In this section we present an FPTAS algorithm to the VPN problem.
We are given an instance of the VPN problem 
\begin{align}
D_v = (V_v, A_v)			\\
D_p = (V_p, A_p)			\\
(s_v, t_v, s_p, t_p)	\\
(p_d, b_d, p_c, b_c)	\\
c
\end{align}
For now assume all values are integral and polynomial bounded in the size of the input.

We start with the following:
For an ancestor $a_v$ of $t'_v$ denote by $C(a_v)$ its children.
Let $a_p$ be an ancestor of $t'_p$ we want to find an embedding of minimum cost
of some virtual $c_vt'_v$-path into the node $t'_p$, 
where $c_v \in C(a_v)$.
Observe that once $c_v$ is chosen the arc $(a_v, c_v)$ determines completely
whether a physical path with a feasible bottleneck exists, namely, a physical
path exists if and only if there is a physical $s'_vt'_v$-path containing only
arcs with bandwidth at least $b_d(a_v, c_v)$.
On the other hand, the set of $c_vt'_v$-paths
determine completely the cost (and processing-wise feasibility) of the embedding.
Among all the $c_vt'_v$-paths we want to select the one that minimize the
embedding cost under the processing capacity constraints.
Figure \todo{} depicts the above observations.

\begin{figure}[ht]
\centering
\input{fig-dp}
\end{figure}

\todo{define bn(i, j) to be the bottleneck between i and j}
We claim that $\min(ai, bj)$ can be found efficiently 
\todo{describe how}

\todo{argue about scaling and rounding}

 
