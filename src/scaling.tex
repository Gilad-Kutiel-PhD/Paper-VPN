We now show that for an arbitrary cost function, $c$,
and for any $\varepsilon > 0$ 
we can defined a scaled, rounded function $c'$ such that:
\begin{enumerate}
\item $OPT_{c'} \leq (1 + \varepsilon)OPT$, where $OPT_{c'}$ is the optimal
value w.r.t $c'$ and $OPT$ is the optimal value w.r.t $c$.
\item $\max_{\alpha, v : c'(\alpha, v) \neq \infty}c'(\alpha, v)$ is polynomial
bounded in the size of the input.
\end{enumerate}
Combining the above with the algorithms described in 
Section~\ref{sec:alg1} and \ref{sec:alg2} yields FPTAS for the \VPN{} problem
for an arbitrary cost function.

Let $\~c$ be the maximum cost incurs by embedding a single virtual node into 
a physical node in an optimal embedding, 
that is $\~c \eqdf \max_{\alpha \in \calV}c(\alpha, f_{opt}(\alpha))$.
Given $\varepsilon$ we define 
$$
c'(\alpha, v) \eqdf
\begin{cases}
\ceil{c(\alpha, v)/\mu} & c(\alpha, v) \leq \~c
\\
\infty & c(\alpha, v) > \~c
\end{cases}
$$
where 
$
\mu \eqdf \frac{\~c\varepsilon}{n}
$.
Let $s$ be an optimal placement w.r.t $c'$ 
and let $o$ be an optimal placement w.r.t $c$, 
let also $S$ and $O$ denotes their values respectively, then.
\begin{lemma}
S \leq (1 + \varepsilon)O
\end{lemma}
\begin{proof}
\begin{align*}
S = & \sum_{\alpha \in \calV}c(\alpha, s(\alpha)) \leq
\\&
\mu\sum_{\alpha \in \calV}c'(\alpha, s(\alpha)) \leq
\\&
\mu\sum_{\alpha \in \calV}c'(\alpha, o(\alpha)) \leq
\\&
\mu\sum_{\alpha \in \calV}c(\alpha, o(\alpha))/\mu + 1 \leq
\\&
\sum_{\alpha \in \calV}c(\alpha, o(\alpha)) + n\mu =
O + \~c\varepsilon \leq (1 + \varepsilon)O
\end{align*}
\end{proof}
Clearly, $\~c$, is not known in advanced, but one can "guess" 
its value as there are at most
$|\calV| \cdot |V|$ possible values to choose from.

